~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~Gateway START~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Server started.

Please input any character after all IoT servers are running.
This will begin the Leader Election and Time Synchronization jobs.
a

~~~~~~Time Synchronization Started~~~~~~

Electing a Leader for Time Synchronization...
Broadcasting Map of Registered IoTs, to all IoTs...
Broadcast complete.
Waiting for Leader's response...
Received response from Leader.
Received Time Synchronization offset of 2502 ms.

~~~~~~Time Synchronization Complete~~~~~~

State of DOOR : Open.
State of DOOR : Closed.
An intruder has entered the Smart Home!
Switching off all outlets!
Switching on all bulbs!
Contacting 911 and the Home Owner!
State of BULB : On.

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~Gateway END~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~


~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~DB START~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Server started.
Registering to Gateway...
Successfully registered.
Received Map of Registered IoTs from Gateway.
Received Time Synchronization offset of 7498 ms.

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~DB END~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~


~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~Temperature Sensor START~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Server started.
Registering to Gateway...
Successfully registered.
New Temperature: 82.93°F.
New Temperature: 75.08°F.
New Temperature: 69.67°F.
New Temperature: 74.76°F.
New Temperature: 79.55°F.
Received Map of Registered IoTs from Gateway.
I am the Leader.
Starting Time Synchronization...
Time Synchronization Offset Map:
	DB         24995
	MOTION     9997
	BULB       14997
	GATEWAY    19999
	DOOR       29997
	TEMPERATURE 0
	PRESENCE   34998
	OUTLET     4999
Received Time Synchronization offset of -17497 ms.
New Temperature: 68.44°F.
New Temperature: 74.65°F.
New Temperature: 80.48°F.
New Temperature: 80.33°F.
New Temperature: 80.92°F.
New Temperature: 81.22°F.
New Temperature: 82.24°F.
New Temperature: 67.63°F.
New Temperature: 75.09°F.
New Temperature: 84.72°F.
New Temperature: 71.36°F.

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~Temperature Sensor END~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~


~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~Motion Sensor START~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Server started.
Registering to Gateway...
Successfully registered.
Received Map of Registered IoTs from Gateway.
Received Time Synchronization offset of -7500 ms.
Detected motion.
Raising Alarm!
Informing Gateway...
Detected motion.
Raising Alarm!
Informing Gateway...
Detected motion.
Raising Alarm!
Informing Gateway...
Detected motion.
Raising Alarm!
Informing Gateway...
Received Map of Registered IoTs from Gateway.
Received Time Synchronization offset of -7500 ms.
Detected motion.
Raising Alarm!
Informing Gateway...
Detected motion.
Raising Alarm!
Informing Gateway...
Detected motion.
Raising Alarm!
Informing Gateway...

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~Motion Sensor END~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~Door Sensor START~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Server started.
Registering to Gateway...
Successfully registered.
Received Map of Registered IoTs from Gateway.
Received Time Synchronization offset of 12500 ms.
Door opened.
Door closed.
Received Map of Registered IoTs from Gateway.
Received Time Synchronization offset of 12500 ms.

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~Door Sensor END~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~


~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~Presence Sensor START~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Server started.
Registering to Gateway...
Successfully registered.
Received Map of Registered IoTs from Gateway.
Received Time Synchronization offset of 17501 ms.
Received Map of Registered IoTs from Gateway.
Received Time Synchronization offset of 17500 ms.

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~Presence Sensor END~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~


~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~Bulb START~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Server started.
Registering to Gateway...
Successfully registered.
Received Map of Registered IoTs from Gateway.
Received Time Synchronization offset of -2500 ms.
BULB switched on.
Received Map of Registered IoTs from Gateway.
Received Time Synchronization offset of -2500 ms.

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~Bulb END~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~


~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~Outlet START~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Server started.
Registering to Gateway...
Successfully registered.
Received Map of Registered IoTs from Gateway.
Received Time Synchronization offset of -12498 ms.
Received Map of Registered IoTs from Gateway.
Received Time Synchronization offset of -12500 ms.

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~Outlet END~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~Intruder START~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Fetching the Map of all Registered IoTs from Gateway...
Successfully fetched.
Opening the door.
Closing the door.
Moving around the Smart Home.
Randomly switching devices on and off, and randomly moving around.
Cannot toggle the OUTLET because the Entrant is an Intruder!
Cannot toggle the OUTLET because the Entrant is an Intruder!
Moving around the Smart Home.
Cannot toggle the OUTLET because the Entrant is an Intruder!
Moving around the Smart Home.
Cannot toggle the BULB because the Entrant is an Intruder!
Cannot toggle the OUTLET because the Entrant is an Intruder!
Moving around the Smart Home.
Cannot toggle the BULB because the Entrant is an Intruder!
Cannot toggle the OUTLET because the Entrant is an Intruder!
Moving around the Smart Home.
Cannot toggle the BULB because the Entrant is an Intruder!
Moving around the Smart Home.
Moving towards the door to leave the Smart Home.
Cannot use the door because the Entrant is an Intruder!

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~Intruder END~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~


~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~Log File START~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

0,8941309d-4ce8-4b37-a02d-b72d4d07552c,0,2,null,1491171871997,12,Door opened.
0,8941309d-4ce8-4b37-a02d-b72d4d07552c,0,2,null,1491171872559,13,Door closed.
0,5010dbec-e996-4eda-becf-fe2f664b3b69,0,1,null,1491171873361,12,Motion detected.
1,null,null,null,null,1491171873376,15,Intruder entered the Smart Home.
0,58351534-7481-485f-86dd-ab135e0ee57b,1,null,0,1491171873399,19,BULB switched on.
0,5010dbec-e996-4eda-becf-fe2f664b3b69,0,1,null,1491171880701,13,Motion detected.
0,5010dbec-e996-4eda-becf-fe2f664b3b69,0,1,null,1491171884354,14,Motion detected.
0,5010dbec-e996-4eda-becf-fe2f664b3b69,0,1,null,1491171888434,15,Motion detected.
0,5010dbec-e996-4eda-becf-fe2f664b3b69,0,1,null,1491171897028,31,Motion detected.
0,5010dbec-e996-4eda-becf-fe2f664b3b69,0,1,null,1491171899711,32,Motion detected.
0,5010dbec-e996-4eda-becf-fe2f664b3b69,0,1,null,1491171901209,33,Motion detected.

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~Log File END~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~