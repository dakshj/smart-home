~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~Gateway START~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Server started.

Please input any character after all IoT servers are running.
This will begin the Leader Election and Time Synchronization jobs.
a

Electing a Leader for Time Synchronization...
Broadcasting Map of Registered IoTs, to all IoTs...
Received Time Synchronization offset of 2503 ms.
Broadcast complete.
State of DOOR : Open.
State of DOOR : Closed.
User entered the Smart Home.
Switched to HOME mode.
Switching on all bulbs!
State of BULB : On.
State of BULB : Off.
State of OUTLET : On.
State of DOOR : Open.
User exited the Smart Home.
Switched to AWAY mode.
Switching off all bulbs!
State of BULB : Off.
Switching off all outlets!
State of OUTLET : Off.
State of DOOR : Closed.

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~Gateway END~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~


~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~DB START~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Server started.
Registering to Gateway...
Successfully registered.
Received Map of Registered IoTs from Gateway.
Received Time Synchronization offset of 7499 ms.

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~DB END~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~


~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~Temperature Sensor START~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Server started.
Registering to Gateway...
Successfully registered.
New Temperature: 72.1°F.
New Temperature: 77.97°F.
New Temperature: 71.5°F.
New Temperature: 83.52°F.
New Temperature: 71.11°F.
New Temperature: 78.55°F.
Received Map of Registered IoTs from Gateway.
I am the Leader.
Starting Time Synchronization...
Time Synchronization Offset Map:
	DB         24995     
	DOOR       29997     
	BULB       14993     
	GATEWAY    19999     
	OUTLET     4993      
	TEMPERATURE 0         
	PRESENCE   34997     
	MOTION     9994      
Received Time Synchronization offset of -17496 ms.

Time Synchronization complete.
New Temperature: 73.37°F.
New Temperature: 83.25°F.
New Temperature: 78.5°F.
New Temperature: 76.43°F.
New Temperature: 66.52°F.
New Temperature: 67.68°F.

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~Temperature Sensor END~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~


~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~Motion Sensor START~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Server started.
Registering to Gateway...
Successfully registered.
Received Map of Registered IoTs from Gateway.
I am the Leader.
Starting Time Synchronization...
Time Synchronization Offset Map:
	PRESENCE   24996     
	MOTION     0         
	OUTLET     -5009     
	BULB       4993      
	DB         14994     
	TEMPERATURE -10007    
	GATEWAY    9999      
	DOOR       19992     
Received Time Synchronization offset of -7494 ms.

Time Synchronization complete.
Detected motion.
Raising Alarm!
Informing Gateway...
Detected motion.
Raising Alarm!
Informing Gateway...
Detected motion.
Raising Alarm!
Informing Gateway...
Detected motion.
Raising Alarm!
Informing Gateway...
Detected motion.
Raising Alarm!
Informing Gateway...
Detected motion.
Raising Alarm!
Informing Gateway...
Detected motion.
Raising Alarm!
Informing Gateway...
Detected motion.
Raising Alarm!
Informing Gateway...

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~Motion Sensor END~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~Door Sensor START~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Server started.
Registering to Gateway...
Successfully registered.
Received Map of Registered IoTs from Gateway.
Received Time Synchronization offset of 12501 ms.
Door opened.
Door closed.
Door opened.
Door closed.

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~Door Sensor END~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~


~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~Presence Sensor START~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Server started.
Registering to Gateway...
Successfully registered.
Received Map of Registered IoTs from Gateway.
Received Time Synchronization offset of 17501 ms.

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~Presence Sensor END~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~


~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~Bulb START~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Server started.
Registering to Gateway...
Successfully registered.
Received Time Synchronization offset of -2503 ms.
Received Map of Registered IoTs from Gateway.
BULB switched on.
BULB switched off.

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~Bulb END~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~


~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~Outlet START~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Server started.
Registering to Gateway...
Successfully registered.
Received Time Synchronization offset of -12503 ms.
Received Map of Registered IoTs from Gateway.
OUTLET switched off.

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~Outlet END~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~User START~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Fetching the Map of all Registered IoTs from Gateway...
Successfully fetched.
Opening the door.
Closing the door.
Moving around the Smart Home.
Randomly switching devices on and off, and randomly moving around.
Toggling the BULB.
Toggling the OUTLET.
Moving around the Smart Home.
Moving towards the door to leave the Smart Home.
Opening the door.
Closing the door.

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~User END~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~


~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~Log File START~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

0,67ab9b8c-8e98-46de-86f4-874012972070,0,2,null,1491111599061,11,Door opened.
0,67ab9b8c-8e98-46de-86f4-874012972070,0,2,null,1491111599085,13,Door closed.
0,75105c96-ded3-4ae9-a835-f3564ae76727,0,1,null,1491111599096,10,Motion detected.
1,null,null,null,null,1491111599118,15,User entered the Smart Home.
0,575e5ea4-6505-4942-9858-b9f6d964e6b2,1,null,0,1491111599125,18,BULB switched on.
0,575e5ea4-6505-4942-9858-b9f6d964e6b2,1,null,0,1491111604850,20,BULB switched off.
0,afee3a9c-3f3c-461a-852e-576ea08d20f0,1,null,1,1491111608678,11,OUTLET switched on.
0,75105c96-ded3-4ae9-a835-f3564ae76727,0,1,null,1491111609850,11,Motion detected.
0,75105c96-ded3-4ae9-a835-f3564ae76727,0,1,null,1491111611289,12,Motion detected.
0,67ab9b8c-8e98-46de-86f4-874012972070,0,2,null,1491111611314,15,Door opened.
1,null,null,null,null,1491111611332,25,User exited the Smart Home.
0,575e5ea4-6505-4942-9858-b9f6d964e6b2,1,null,0,1491111611336,28,BULB switched off.
0,afee3a9c-3f3c-461a-852e-576ea08d20f0,1,null,1,1491111611354,32,OUTLET switched off.
0,67ab9b8c-8e98-46de-86f4-874012972070,0,2,null,1491111611377,17,Door closed.

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~Log File END~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~